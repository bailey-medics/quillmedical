:80 {
  encode zstd gzip

  # Proxy API requests to FastAPI
  @api path /api/*
  handle @api {
    reverse_proxy backend:8000
  }

  # Everything else â†’ Vite dev server (HMR works through Caddy)
  handle {
    reverse_proxy frontend:5173
  }
}
