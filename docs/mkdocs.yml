site_name: Quill Docs
docs_dir: docs

theme:
  name: material
  palette:
    # Light mode
    - media: "(prefers-color-scheme: light)"
      scheme: default
      primary: deep purple
      accent: amber
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode
    # Dark mode
    - media: "(prefers-color-scheme: dark)"
      scheme: slate
      primary: deep purple
      accent: amber
      toggle:
        icon: material/brightness-4
        name: Switch to light mode
  navigation_depth: 4
  features:
    - navigation.sections
    - content.code.copy
    - toc.follow

nav:
  - Home: index.md
  - Backend:
      - Overview: backend/index.md
      - Three-Database Migration: backend/three-database-migration.md
      - Avatar Gradient Migration: backend/avatar-gradient-migration.md
      - FastAPI:
          - Overview: backend/fastapi/index.md
      - FHIR:
          - Overview: backend/fhir/index.md
      - OpenEHR:
          - Overview: backend/openehr/index.md
      - Caddy:
          - Overview: backend/caddy/index.md
      - Files:
          - Overview: backend/files/index.md
      - Payments:
          - Overview: backend/payments/index.md
  - Frontend:
      - Overview: frontend/index.md
      - User Workflows: frontend/workflows.md
      - Security: frontend/security.md
      - Accessibility: frontend/accessibility.md
      - Storybook: frontend/storybook/index.md
      - Test Infrastructure: frontend/test-infrastructure-setup.md
  - Authorization:
      - CBAC (Competency-Based Access Control): cbac.md
  - CI/CD:
      - Pipeline overview: cicd/index.md
  - Code Documentation:
      - Frontend TypeDoc: code/frontend/README.md
      - Storybook: code/storybook/index.html
      - Backend API (Swagger): code/swagger/index.md
      - Backend Code:
          - Overview: code/fastapi/index.md
          - Main: code/fastapi/main.md
          - Configuration: code/fastapi/config.md
          - Database: code/fastapi/db.md
          - Models: code/fastapi/models.md
          - Security: code/fastapi/security.md
          - FHIR Client: code/fastapi/fhir_client.md
          - EHRbase Client: code/fastapi/ehrbase_client.md
          - Patient Records: code/fastapi/patient_records.md
          - Push Notifications: code/fastapi/push.md
          - Push Send: code/fastapi/push_send.md
          - Schemas: code/fastapi/schemas.md
  - Clinical Safety:
      - Overview: safety/overview/index.md
      - Regulatory Framework: safety/overview/regulatory-framework.md
      - Risk Management System: safety/overview/risk-management-system.md
      - Hazard Log: safety/overview/hazard-log.md
      - EPR Hazards: safety/overview/epr-hazards.md
      - Clinical Safety Officer: safety/overview/clinical-safety-officer.md
      - Development Integration: safety/overview/development-integration.md
      - Resources: safety/overview/resources.md
      - Hazards:
          - Overview: safety/hazards/README.md
          - Completion Report: safety/hazards/STAGE-6-COMPLETION-REPORT.md
          - Hazard-0001: safety/hazards/Hazard-0001.md
          - Hazard-0002: safety/hazards/Hazard-0002.md
          - Hazard-0003: safety/hazards/Hazard-0003.md
          - Hazard-0004: safety/hazards/Hazard-0004.md
          - Hazard-0005: safety/hazards/Hazard-0005.md
          - Hazard-0006: safety/hazards/Hazard-0006.md
          - Hazard-0007: safety/hazards/Hazard-0007.md
          - Hazard-0008: safety/hazards/Hazard-0008.md
          - Hazard-0009: safety/hazards/Hazard-0009.md
          - Hazard-0010: safety/hazards/Hazard-0010.md
          - Hazard-0011: safety/hazards/Hazard-0011.md
          - Hazard-0012: safety/hazards/Hazard-0012.md
          - Hazard-0013: safety/hazards/Hazard-0013.md
          - Hazard-0014: safety/hazards/Hazard-0014.md
          - Hazard-0015: safety/hazards/Hazard-0015.md
          - Hazard-0016: safety/hazards/Hazard-0016.md
          - Hazard-0017: safety/hazards/Hazard-0017.md
          - Hazard-0018: safety/hazards/Hazard-0018.md
          - Hazard-0019: safety/hazards/Hazard-0019.md
          - Hazard-0020: safety/hazards/Hazard-0020.md
          - Hazard-0021: safety/hazards/Hazard-0021.md
          - Hazard-0022: safety/hazards/Hazard-0022.md
          - Hazard-0023: safety/hazards/Hazard-0023.md
          - Hazard-0024: safety/hazards/Hazard-0024.md
          - Hazard-0025: safety/hazards/Hazard-0025.md
          - Hazard-0026: safety/hazards/Hazard-0026.md
          - Hazard-0027: safety/hazards/Hazard-0027.md
          - Hazard-0028: safety/hazards/Hazard-0028.md
          - Hazard-0029: safety/hazards/Hazard-0029.md
          - Hazard-0030: safety/hazards/Hazard-0030.md
          - Hazard-0031: safety/hazards/Hazard-0031.md
          - Hazard-0032: safety/hazards/Hazard-0032.md
          - Hazard-0033: safety/hazards/Hazard-0033.md
          - Hazard-0034: safety/hazards/Hazard-0034.md
          - Hazard-0035: safety/hazards/Hazard-0035.md
          - Hazard-0036: safety/hazards/Hazard-0036.md
          - Hazard-0037: safety/hazards/Hazard-0037.md
          - Hazard-0038: safety/hazards/Hazard-0038.md
          - Hazard-0039: safety/hazards/Hazard-0039.md
          - Hazard-0040: safety/hazards/Hazard-0040.md
          - Hazard-0041: safety/hazards/Hazard-0041.md
          - Hazard-0042: safety/hazards/Hazard-0042.md
          - Hazard-0043: safety/hazards/Hazard-0043.md
          - Hazard-0044: safety/hazards/Hazard-0044.md
          - Hazard-0045: safety/hazards/Hazard-0045.md
          - Hazard-0046: safety/hazards/Hazard-0046.md
          - Hazard-0047: safety/hazards/Hazard-0047.md


plugins:
  - search
  - mkdocstrings:
      handlers:
        python:
          paths:
            - ../backend
          options:
            docstring_style: google
            show_source: true
            separate_signature: true
            members_order: source
            inherited_members: false
  - swagger-ui-tag

markdown_extensions:
  - admonition
  - toc:
      permalink: true
  - pymdownx.highlight
  - pymdownx.superfences

watch:
  - ../backend
  - docs
